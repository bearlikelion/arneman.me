<section id="recommendations" class="section recommendations-section">
	<h2 class="recommendations-title">Stuff You Should See</h2>
	<p class="recommendations-intro">
		Documentaries, channels, and videos worth your time.
	</p>

	<div class="recommendations-grid" id="recommendationsGrid">
		{{ range where .Site.RegularPages "Section" "recommendations" }}
		<div class="recommendation-card" data-type="{{ .Params.type }}">
			<div class="recommendation-thumbnail">
				{{ if eq .Params.type "video" }}
					<a href="https://www.youtube.com/watch?v={{ .Params.youtube_id }}"
					   target="_blank"
					   rel="noopener noreferrer">
						<img src="https://img.youtube.com/vi/{{ .Params.youtube_id }}/maxresdefault.jpg"
							 alt="{{ .Title }}"
							 loading="lazy"
							 onerror="this.src='https://img.youtube.com/vi/{{ .Params.youtube_id }}/hqdefault.jpg'">
						<div class="play-overlay">
							<i class="fab fa-youtube"></i>
						</div>
					</a>
				{{ else if eq .Params.type "channel" }}
					<a href="{{ .Params.channel_url }}"
					   target="_blank"
					   rel="noopener noreferrer">
						<div class="channel-thumbnail">
							<i class="fab fa-youtube"></i>
						</div>
					</a>
				{{ end }}
			</div>

			<div class="recommendation-content">
				<h3 class="recommendation-title">
					{{ if eq .Params.type "video" }}
						<a href="https://www.youtube.com/watch?v={{ .Params.youtube_id }}"
						   target="_blank"
						   rel="noopener noreferrer">
							{{ .Title }}
						</a>
					{{ else }}
						<a href="{{ .Params.channel_url }}"
						   target="_blank"
						   rel="noopener noreferrer">
							{{ .Title }}
						</a>
					{{ end }}
				</h3>

				<div class="recommendation-description">
					{{ .Content }}
				</div>

				<div class="recommendation-meta">
					<span class="recommendation-type">
						{{ if eq .Params.type "video" }}
							<i class="fas fa-video"></i> Video
						{{ else }}
							<i class="fas fa-tv"></i> Channel
						{{ end }}
					</span>
				</div>
			</div>
		</div>
		{{ end }}
	</div>
</section>
